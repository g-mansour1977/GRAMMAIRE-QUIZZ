<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Quiz Examen ‚Äì Gi.Code Formation</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
  body { background:#f4f6f9; }
  .quiz-box { max-width:700px; margin:auto; }
  .timer { font-weight:bold; color:#dc3545; }
</style>
</head>

<body>

<div class="container mt-5">
  <div class="card quiz-box shadow">
    <div class="card-body" id="app">
      
      <!-- LOGIN -->
      <div id="login">
        <h4 class="mb-3">üîê Connexion √âl√®ve</h4>
        <input class="form-control mb-2" id="nom" placeholder="Nom de l'√©l√®ve">
        <input class="form-control mb-3" id="classe" placeholder="Classe / Formation">
        <button class="btn btn-primary w-100" onclick="connexion()">Commencer l'examen</button>
      </div>

      <!-- QUIZ -->
      <div id="quiz" style="display:none;">
        <div class="d-flex justify-content-between mb-2">
          <span id="progression"></span>
          <span class="timer">‚è±Ô∏è <span id="temps"></span></span>
        </div>

        <h5 id="question"></h5>
        <div class="d-grid gap-2 mt-3" id="reponses"></div>
      </div>

    </div>
  </div>
</div>

<script>
// ================= CONFIG =================
const LIMITE = 30;
const DUREE_EXAMEN = 15 * 60; // 15 minutes

// ================= QUESTIONS (30) =================
const questions = [
  { question: "Quelle est la nature du mot '√©cole' ?", choix: ["Verbe", "Nom", "Adjectif"], bonne: 1 },
  { question: "Quel logiciel sert au traitement de texte ?", choix: ["Excel", "Word", "PowerPoint"], bonne: 1 },
  { question: "2 + 3 x 4 = ?", choix: ["20", "14", "24"], bonne: 1 },
  { question: "La capitale de la France ?", choix: ["Lyon", "Paris", "Marseille"], bonne: 1 },
  { question: "HTML signifie ?", choix: ["HyperText Markup Language", "HighText Markup Language", "Hyper Transfer Markup Language"], bonne: 0 },
  { question: "CSS sert √† ?", choix: ["Programmer", "Mettre en forme", "Stocker donn√©es"], bonne: 1 },
  { question: "Quelle est la valeur de Pi ?", choix: ["3.14", "2.71", "1.62"], bonne: 0 },
  { question: "Quel est l'√©l√©ment chimique O ?", choix: ["Oxyg√®ne", "Or", "Osmium"], bonne: 0 },
  { question: "Quelle fonction Excel additionne des cellules ?", choix: ["=SOMME()", "=MOYENNE()", "=MULT()"], bonne: 0 },
  { question: "Quelle touche permet de copier ?", choix: ["Ctrl + C", "Ctrl + V", "Ctrl + X"], bonne: 0 },
  { question: "Le moteur de recherche le plus utilis√© ?", choix: ["Bing", "Google", "Yahoo"], bonne: 1 },
  { question: "Quelle langue est utilis√©e c√¥t√© client sur le web ?", choix: ["Python", "JavaScript", "PHP"], bonne: 1 },
  { question: "Quel pays est surnomm√© 'Le pays du Soleil Levant' ?", choix: ["Chine", "Japon", "Cor√©e"], bonne: 1 },
  { question: "R√©sultat de 7 x 8 ?", choix: ["54", "56", "58"], bonne: 1 },
  { question: "Quel est le pluriel de 'cheval' ?", choix: ["Chevals", "Chevaux", "Chevales"], bonne: 1 },
  { question: "Word permet de :", choix: ["Cr√©er des tableaux uniquement", "Cr√©er du texte et documents", "Cr√©er des calculs"], bonne: 1 },
  { question: "PowerPoint sert √† :", choix: ["Faire des diapos", "G√©rer des bases de donn√©es", "Programmer"], bonne: 0 },
  { question: "L'eau g√®le √† ?", choix: ["0¬∞C", "100¬∞C", "-10¬∞C"], bonne: 0 },
  { question: "Le symbole chimique du fer ?", choix: ["Fe", "F", "Fr"], bonne: 0 },
  { question: "Le verbe 'manger' est √† quel groupe ?", choix: ["1er", "2e", "3e"], bonne: 0 },
  { question: "Quel est l'√©quivalent de 1 km ?", choix: ["100 m", "1000 m", "10 000 m"], bonne: 1 },
  { question: "Quelle plan√®te est la plus proche du Soleil ?", choix: ["Mercure", "V√©nus", "Mars"], bonne: 0 },
  { question: "Combien de c√¥t√©s a un hexagone ?", choix: ["5", "6", "8"], bonne: 1 },
  { question: "Quelle est la couleur du ciel sans nuage ?", choix: ["Bleu", "Vert", "Rouge"], bonne: 0 },
  { question: "Python est un langage :", choix: ["De programmation", "Naturel", "Musical"], bonne: 0 },
  { question: "R√©sultat de 12 √∑ 4 ?", choix: ["2", "3", "4"], bonne: 1 },
  { question: "HTML est utilis√© pour :", choix: ["Programmer", "Structurer une page web", "Envoyer des emails"], bonne: 1 },
  { question: "CSS signifie ?", choix: ["Cascading Style Sheets", "Creative Style Sheets", "Colorful Style Sheets"], bonne: 0 },
  { question: "Combien y a-t-il de continents ?", choix: ["5", "6", "7"], bonne: 2 },
  { question: "Quelle est la monnaie officielle du S√©n√©gal ?", choix: ["CFA", "Euro", "Dollar"], bonne: 0 },
  { question: "Le Soleil est une :", choix: ["√âtoile", "Plan√®te", "Com√®te"], bonne: 0 }
];

// ================= VARIABLES =================
let index = 0;
let score = 0;
let timer = DUREE_EXAMEN;
let interval;
let eleve = {};

// ================= CONNEXION =================
function connexion() {
  const nom = document.getElementById("nom").value;
  const classe = document.getElementById("classe").value;

  if (!nom || !classe) return alert("Veuillez remplir tous les champs");

  eleve = { nom, classe, date: new Date().toLocaleDateString() };
  localStorage.setItem("eleve", JSON.stringify(eleve));

  document.getElementById("login").style.display = "none";
  document.getElementById("quiz").style.display = "block";

  demarrerTimer();
  afficherQuestion();
}

// ================= TIMER =================
function demarrerTimer() {
  afficherTemps();
  interval = setInterval(() => {
    timer--;
    afficherTemps();
    if (timer <= 0) finQuiz();
  }, 1000);
}

function afficherTemps() {
  const min = Math.floor(timer / 60);
  const sec = timer % 60;
  document.getElementById("temps").innerText =
    `${min}:${sec.toString().padStart(2,"0")}`;
}

// ================= QUIZ =================
function afficherQuestion() {

  if (index >= LIMITE) {
    finQuiz();
    return;
  }

  const q = questions[index];

  document.getElementById("progression").innerText =
    `Question ${index+1} / ${LIMITE}`;

  document.getElementById("question").innerText = q.question;

  const zone = document.getElementById("reponses");
  zone.innerHTML = "";

  q.choix.forEach((c,i)=>{
    const b = document.createElement("button");
    b.className = "btn btn-outline-primary";
    b.innerText = c;
    b.onclick = ()=>verifier(i);
    zone.appendChild(b);
  });
}

function verifier(rep) {
  if (rep === questions[index].bonne) score++;
  index++;
  afficherQuestion();
}

// ================= FIN =================
function finQuiz() {
  clearInterval(interval);

  const note20 = Math.round((score / LIMITE) * 20);

  document.getElementById("app").innerHTML = `
    <h3 class="text-success">üìä R√©sultat de l'examen</h3>

    <p><strong>Nom :</strong> ${eleve.nom}</p>
    <p><strong>Classe :</strong> ${eleve.classe}</p>
    <p><strong>Date :</strong> ${eleve.date}</p>

    <hr>

    <p class="fs-4">Score : <strong>${note20} / 20</strong></p>

    <div class="alert alert-info">
      ${note20 >= 15 ? "‚úÖ Tr√®s bon niveau" : note20 >= 10 ? "‚ö†Ô∏è Niveau moyen" : "‚ùå Niveau √† renforcer"}
    </div>

    <button class="btn btn-success me-2" onclick="window.print()">üñ®Ô∏è Imprimer PDF</button>
    <button class="btn btn-secondary" onclick="location.reload()">üîÑ Recommencer</button>
  `;
}
</script>

</body>
</html>
